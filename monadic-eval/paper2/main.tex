\documentclass[acmlarge,anonymous]{acmart}\settopmatter{printfolios=true}

\usepackage{microtype}
\usepackage{textcomp}
\usepackage[scaled=0.8]{DejaVuSansMono}
\usepackage{setspace}
\usepackage{stackengine}
\renewcommand\stacktype{L}
%\linespread{0.95}

\usepackage{balance}
\usepackage{moresize}
\usepackage{csquotes}
\usepackage{upgreek}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{stmaryrd}

\usepackage{mathpartir}
\usepackage{galois}

%\newtheorem{lemma}{Lemma}
%\newtheorem{theorem}{Theorem}
%\newtheorem{proposition}{Proposition}

%\usepackage[usenames,dvipsnames]{color}
%\definecolor{PaleBlue}{rgb}{0.90,0.90,1.0}
%\definecolor{LightGray}{rgb}{0.90,0.90,0.90}
%\definecolor{CommentColor}{rgb}{0.76,0.45,0.12}
%\definecolor{OutputColor}{rgb}{0.59,0.00,0.59}

\definecolor{IdentifierColor}{rgb}{0.15,0.15,0.50}
\newcommand{\ID}[1]{{\color{IdentifierColor}#1}}

\definecolor{PuncColor}{rgb}{0.52,0.24,0.14}
\newcommand{\PN}[1]{{\color{PuncColor}#1}}

\definecolor{KeywordColor}{rgb}{0.52,0.24,0.14}
\newcommand{\KY}[1]{{\color{KeywordColor}#1}}

\definecolor{ValueColor}{rgb}{0.13,0.55,0.13}
\newcommand{\VL}[1]{{\color{ValueColor}#1}}

\definecolor{ResultColor}{rgb}{0.10,0.10,0.79}
\newcommand{\RE}[1]{{\color{ResultColor}#1}}

\definecolor{ErrorColor}{rgb}{0.75,0.10,0.10}
\newcommand{\EO}[1]{{\color{ErrorColor}#1}}


\usepackage{listings}
\lstset%
  {language=Lisp
  ,upquote=true
  ,mathescape=true
  ,basicstyle=\ttfamily\color{PuncColor}
  ,alsoletter=+-*/?'\#0123456789^:
  ,identifierstyle=\color{IdentifierColor}
  ,keywords=
    {define,let,match,if
    ,do,define-monad,for/monad+
    ,\#lang
    ,\#:when
    ,\#:unless
    }
  ,keywordstyle=\color{KeywordColor}
  ,emph=
    {return,bind
    ,zero?
    ,ask-env,local-env
    ,ext,find,alloc
    ,get-store,put-store,update-store
    ,tell
    ,get-dead,put-dead,update-dead
    ,fail,mplus
    ,get-,put-,update-
    ,ask-,local-
    ,get-path-cond,refine
    ,ask-cache-in,local-cache-in
    ,get-cache-out,put-cache-out,update-cache-out
    }
  ,emphstyle=\color{IdentifierColor}\emph
  ,literate=
    {‹λ›}{{{\KY{«\uplambda»}}}}1
    {‹δ›}{{{\ID{«\updelta»}}}}1
    {‹σ›}{{{\ID{«\upsigma»}}}}1
    {‹ς›}{{{\ID{«\varsigma»}}}}1
    {‹ρ›}{{{\ID{«\uprho»}}}}1
    {‹φ›}{{{\ID{«\upphi»}}}}1
    {‹θ›}{{{\ID{«\uptheta»}}}}1
    {‹Σ›}{{{\ssmall\ID{«Σ»}}}}1
    {‹∅›}{{{\ID{«∅»}}}}1
    {‹←›}{{{\scriptsize«←»}}}1
    {‹≔›}{{{\scriptsize«≔»}}}1
    {‹₀›}{{{\ID{«\,⸤⦑0⦒⸥»}}}}1
    {‹₁›}{{{\ID{«\,⸤⦑1⦒⸥»}}}}1
    {‹₂›}{{{\ID{«\,⸤⦑2⦒⸥»}}}}1
    {‹′›}{{{\ID{«\,′»}}}}1
    {‹¢›}{{{\ID{\$}}}}1
    {‹∈›}{{{\ID{«∈»}}}}1
    {‹×›}{{{\ssmall\ID{«×»}}}}1
    {‹⊥›}{{{\ssmall\ID{«⊥»}}}}1
    {‹¬›}{{{\ssmall\ID{«¬»}}}}1
    {‹ᴵ›}{{{\ID{\,«⸢⦑I⦒⸣»}}}}1
    {‹ᴼ›}{{{\ID{\,«⸢⦑O⦒⸣»}}}}1
    {‹⁺›}{{{\ID{\,«⸢⦑+⦒⸣»}}}}1
    {‹⸢›in‹⸣›}{{{\ID{«⸢⦑in⦒⸣»}}}}1
    {‹⸢›out‹⸣›}{{{\ID{«⸢⦑out⦒⸣»}}}}2
    {`}{{{\`{}}}}1
    {get-‹¢›}{{{\ID{\emph{get-\$}}}}}5
    {put-‹¢›}{{{\ID{\emph{put-\$}}}}}5
    {update-‹¢›}{{{\ID{\emph{update-\$}}}}}8
    {=}{{{\ID{=}}}}1
  ,classoffset=1
  ,keywords=
    {'add1,'sub1,'+,'-,'*,'/,'failure,'N
    ,\#t,\#f,0,1,2,3,4,5,6,7,8,9
    }
  ,keywordstyle=\color{ValueColor}
  }
\lstdefinestyle{result}
  {basicstyle=\ttfamily\color{ResultColor}
  ,keywordstyle=\color{ResultColor}
  ,identifierstyle=\color{ResultColor}
  ,literate=
    {‹λ›}{{{«\uplambda»}}}1
    {‹δ›}{{{«\updelta»}}}1
    {‹σ›}{{{«\upsigma»}}}1
    {‹ς›}{{{«\varsigma»}}}1
    {‹ρ›}{{{«\uprho»}}}1
    {‹φ›}{{{«\upphi»}}}1
    {‹θ›}{{{«\uptheta»}}}1
    {‹Σ›}{{{\ssmall«Σ»}}}1
    {‹∅›}{{{«∅»}}}1
    {‹←›}{{{«←»}}}1
    {‹≔›}{{{«≔»}}}1
    {‹₀›}{{{«\,⸤⦑0⦒⸥»}}}1
    {‹₁›}{{{«\,⸤⦑1⦒⸥»}}}1
    {‹₂›}{{{«\,⸤⦑2⦒⸥»}}}1
    {‹′›}{{{«\,′»}}}1
    {‹¢›}{{{\$}}}1
    {‹∈›}{{{«∈»}}}1
    {‹×›}{{{\ssmall«×»}}}1
    {‹⊥›}{{{\ssmall«⊥»}}}1
    {‹¬›}{{{\ssmall«¬»}}}1
    {timeout}{{{\EO{\emph{\textbf{timeout}}}}}}7
  }

\newcommand{\rfloat}[1]{\begin{flushright}\fbox{#1}\end{flushright}\vspace{-2.1em}} % -2.1em}}
\newcommand{\resultskip}{\vspace{-0.8em}} % -1.2em}}
\newcommand{\figskip}{\vspace{0pt}} % -1.3em}}
\newcommand{\captionskip}[1]{\vspace{-0.75em}\caption{#1}\vspace{-1em}}
\newcommand{\up}[1]{\overbrace{\vphantom{X^X}#1}}
\newcommand{\mathgobble}{-0.25em}
\newcommand{\monadgobble}{-0.5em}

\makeatletter\if@ACM@journal\makeatother
%% Journal information (used by PACMPL format)
%% Supplied to authors by publisher for camera-ready submission
\acmJournal{PACMPL}
\acmVolume{1}
\acmNumber{1}
\acmArticle{1}
\acmYear{2017}
\acmMonth{1}
\acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}
\else\makeatother
%% Conference information (used by SIGPLAN proceedings format)
%% Supplied to authors by publisher for camera-ready submission
\acmConference[PL'17]{ACM SIGPLAN Conference on Programming Languages}{January 01--03, 2017}{New York, NY, USA}
\acmYear{2017}
\acmISBN{978-x-xxxx-xxxx-x/YY/MM}
\acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}
\fi


%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission
\setcopyright{none}             %% For review submission
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\copyrightyear{2017}           %% If different from \acmYear


%% Bibliography style
\bibliographystyle{ACM-Reference-Format}
%% Citation style
%% Note: author/year citations are required for papers published as an
%% issue of PACMPL.
%\citestyle{acmauthoryear}  %% For author/year citations
%\citestyle{acmnumeric}     %% For numeric citations
%\setcitestyle{nosort}      %% With 'acmnumeric', to disable automatic
                            %% sorting of references within a single citation;
                            %% e.g., \cite{Smith99,Carpenter05,Baker12}
                            %% rendered as [14,5,2] rather than [2,5,14].
%\setcitesyle{nocompress}   %% With 'acmnumeric', to disable automatic
                            %% compression of sequential references within a
                            %% single citation;
                            %% e.g., \cite{Baker12,Baker14,Baker16}
                            %% rendered as [2,3,4] rather than [2-4].

\begin{document}

\title{Definitional Abstract Interpreters for Higher-Order Programming Languages}
%\title{Abstracting Definitional Interpreters} % for Higher-Order Programming Languages}
\subtitle{Functional Pearl}

\author{David Darais}
\orcid{nnnn-nnnn-nnnn-nnnn}             %% \orcid is optional
\affiliation{
  %\position{Position1}
  %\department{Department1}              %% \department is recommended
  \institution{University of Maryland}            %% \institution is required
  %\streetaddress{Street1 Address1}
  \city{College Park}
  \state{Maryland}
  %\postcode{Post-Code1}
  %\country{Country1}
}
\email{darais@cs.umd.edu}          %% \email is recommended

\author{Nicholas Labich}
\orcid{nnnn-nnnn-nnnn-nnnn}             %% \orcid is optional
\affiliation{
  %\position{Position1}
  %\department{Department1}              %% \department is recommended
  \institution{University of Maryland}            %% \institution is required
  %\streetaddress{Street1 Address1}
  \city{College Park}
  \state{Maryland}
  %\postcode{Post-Code1}
  %\country{Country1}
}
\email{labichn@cs.umd.edu}          %% \email is recommended

\author{Phúc C. Nguyễn}
\orcid{nnnn-nnnn-nnnn-nnnn}             %% \orcid is optional
\affiliation{
  %\position{Position1}
  %\department{Department1}              %% \department is recommended
  \institution{University of Maryland}            %% \institution is required
  %\streetaddress{Street1 Address1}
  \city{College Park}
  \state{Maryland}
  %\postcode{Post-Code1}
  %\country{Country1}
}
\email{pcn@cs.umd.edu}          %% \email is recommended


\author{David {Van Horn}}
\orcid{nnnn-nnnn-nnnn-nnnn}             %% \orcid is optional
\affiliation{
  %\position{Position1}
  %\department{Department1}              %% \department is recommended
  \institution{University of Maryland}            %% \institution is required
  %\streetaddress{Street1 Address1}
  \city{College Park}
  \state{Maryland}
  %\postcode{Post-Code1}
  %\country{Country1}
}
\email{dvanhorn@cs.umd.edu}          %% \email is recommended

%% \authorinfo{Phúc C. Nguyễn}
%%            {University of Maryland}
%%            {pcn@cs.umd.edu}

\begin{abstract}
  In this functional pearl, we examine the use of definitional
  interpreters as a basis for abstract interpretation of higher-order
  programming languages.  As it turns out, definitional interpreters,
  especially those written in a monadic style, can provide a nice
  basis for a wide variety of collecting semantics, abstract
  interpretations, symbolic executions, and their intermixings.


  But the real insight of this story is a kind of replaying of an
  insight contained in Reynold's landmark paper, \emph{Definitional
    Interpreters for Higher-Order Programming Languages}, in which he
  observes definitional interpreters open the possibility of the
  defined-language inheriting properties of the defining-language.  We
  show the same holds true for definitional \emph{abstract}
  interpreters.  Remarkably, we observe that abstract definitional
  interpreters inherit the so-called ``pushdown control flow''
  property, wherein function calls and returns are precisely matched
  in the abstract semantics, simply by virtue of the function call
  mechanism of the defining-language.

  Past approaches first achieved this property for higher-order
  languages within the last ten years and have since been the subject
  of many papers.  These approaches start from a state-machine
  semantics and uniformly involve significant technical engineering to
  recover the precision of pushdown control flow.  In contrast,
  starting from a definitional interpreter, the pushdown control flow
  property is inherent in the meta-language and requires no further
  technical mechanism to achieve.
\end{abstract}

\maketitle

%\category{CR-number}{subcategory}{third-level}
%\terms term1, term2
%\keywords keyword1, keyword2

\input{01-intro.tex}
\input{02-aam.tex}
\input{03-interp.tex}
\input{04-cache.tex}
\input{05-reynolds.tex}
\input{06-widening.tex}
\input{07-alt-abstraction.tex}
\input{08-symbolic-execution.tex}
\input{09-try-it.tex}
\input{11-related-work.tex}
\input{12-conclusions.tex}

\begin{acks}
  We thank Sam Tobin-Hochstadt and Dionna Glaze for several fruitful
  conversations while developing the ideas in this work.  We thank
  Ilya Sergey for comments and in particular, bringing Jones and
  Nielsen's two-level metalanguage for abstract interpretation to our
  attention~\cite{local:jones-ai1995}.
\end{acks}

%\balance
%\bibliographystyle{abbrvnat}
\bibliography{davdar,dvanhorn,local}

\appendix
\input{10-formalism.tex}

\end{document}

%\lstset
% {language=Lisp
% ,extendedchars=true
% ,inputencoding=utf8
% ,mathescape=true
% ,escapechar=`
% ,upquote=true
% ,basicstyle=\ttfamily\color{ParenColor}
% ,commentstyle=\color{CommentColor}
% ,alsoletter=+-*/?'\#0123456789^
% ,identifierstyle=\color{IdentifierColor}
% ,emph=%
%  {return,bind
%  ,zero?
%  ,ask-env,local-env
%  ,ext,find,alloc
%  ,get-store,put-store,update-store
%  ,tell
%  ,get-dead,put-dead,update-dead
%  ,fail,mplus
%  ,get-,put-,update-
%  ,ask-,local-
%  }
% ,emphstyle=\color{IdentifierColor}\emph
% ,classoffset=1
% ,keywords={'add1,'sub1,'+,'-,'*,'/,'failure,'N,\#t,\#f,0,1,2,3,4,5,6,7,8,9}
% ,keywordstyle=\color{ValueColor}
% }

